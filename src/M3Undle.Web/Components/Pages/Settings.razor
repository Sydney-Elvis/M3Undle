@page "/settings"
@inject ISiteSettingsService SiteSettings
@using M3Undle.Web.Application

<PageTitle>Settings â€” M3Undle</PageTitle>

<MudText Typo="Typo.h5" Class="mb-4">Settings</MudText>

<MudGrid Spacing="3">
    <MudItem xs="12" md="6">
        <MudPaper Class="pa-4" Elevation="1">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2" Class="mb-1">
                <MudText Typo="Typo.h6">Security</MudText>
                <MudChip T="string" Size="Size.Small" Color="Color.Info" Variant="Variant.Outlined">Alpha 2</MudChip>
            </MudStack>
            <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-4">
                Control whether users must log in to access this application.
            </MudText>

            <MudSwitch T="bool" Value="_authEnabled" Color="Color.Primary"
                       Label="@(_authEnabled ? "Authentication enabled" : "Authentication disabled")"
                       Disabled="true" />

            <MudAlert Severity="Severity.Info" Variant="Variant.Outlined" Class="mt-3" Dense="true">
                GUI authentication is not yet implemented and will be available in Alpha 2.
                Anyone with network access can currently view and control this application.
            </MudAlert>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    private bool _authEnabled;

    protected override async Task OnInitializedAsync()
    {
        _authEnabled = await SiteSettings.GetAuthenticationEnabledAsync();
    }
}

